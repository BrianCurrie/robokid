(()=>{"use strict";const e=(()=>{const e=document.getElementById("portrait-container");let t=[],n=[],o=[];const s=e=>{for(let t=0;t<9;t++)clearInterval(o[t]),o[t]=setInterval((()=>{i(t)}),e);console.log(`Bone tracking initialized with interval of ${e}`)},i=o=>{n[o].style.transform=getComputedStyle(t[o]).getPropertyValue("transform"),n[o].style.transformOrigin=getComputedStyle(t[o]).getPropertyValue("transformOrigin"),n[o].style.left=t[o].getBoundingClientRect().left-e.getBoundingClientRect().left,n[o].style.top=t[o].getBoundingClientRect().top-e.getBoundingClientRect().top};return t[0]=document.getElementById("bone-wheels"),t[1]=document.getElementById("bone-body-tube"),t[2]=document.getElementById("bone-chest"),t[3]=document.getElementById("bone-right-arm"),t[4]=document.getElementById("bone-right-hand"),t[5]=document.getElementById("bone-left-arm"),t[6]=document.getElementById("bone-left-hand"),t[7]=document.getElementById("bone-head"),t[8]=document.getElementById("bone-face"),n[0]=document.getElementById("img-wheels"),n[1]=document.getElementById("img-body-tube"),n[2]=document.getElementById("img-chest"),n[3]=document.getElementById("img-right-arm"),n[4]=document.getElementById("img-right-hand"),n[5]=document.getElementById("img-left-arm"),n[6]=document.getElementById("img-left-hand"),n[7]=document.getElementById("img-head"),n[8]=document.getElementById("img-face"),s(1e3/60),{initBoneTracking:s,enableAnimations:function(){t.forEach((e=>{e.classList.add("animated")}))},disableAnimations:function(){t.forEach((e=>{e.classList.remove("animated")}))}}})(),t=()=>{document.getElementById("settings-container").style.display=""},n=()=>{document.getElementById("settings-container").style.display="none"},o=t=>{switch(t){case 0:e.disableAnimations(),e.initBoneTracking(Number.MAX_SAFE_INTEGER);break;case 1:e.enableAnimations(),e.initBoneTracking(100);break;case 2:e.enableAnimations(),e.initBoneTracking(1e3/30);break;case 3:e.enableAnimations(),e.initBoneTracking(1)}document.getElementById("animation-settings-options").children[0].classList.remove("selected"),document.getElementById("animation-settings-options").children[1].classList.remove("selected"),document.getElementById("animation-settings-options").children[2].classList.remove("selected"),document.getElementById("animation-settings-options").children[3].classList.remove("selected"),document.getElementById("animation-settings-options").children[t].classList.add("selected")},s=e=>{switch(e){case 0:document.body.classList.remove("font-standard"),document.body.classList.remove("font-dyslexic"),document.body.classList.add("font-pixel");break;case 1:document.body.classList.remove("font-pixel"),document.body.classList.remove("font-dyslexic"),document.body.classList.add("font-standard");break;case 2:document.body.classList.remove("font-pixel"),document.body.classList.remove("font-standard"),document.body.classList.add("font-dyslexic")}document.getElementById("font-settings-options").children[0].classList.remove("selected"),document.getElementById("font-settings-options").children[1].classList.remove("selected"),document.getElementById("font-settings-options").children[2].classList.remove("selected"),document.getElementById("font-settings-options").children[e].classList.add("selected")},i=e=>{console.log("Dialogue speed set to "+e),document.getElementById("dialogue-settings-options").children[0].classList.remove("selected"),document.getElementById("dialogue-settings-options").children[1].classList.remove("selected"),document.getElementById("dialogue-settings-options").children[2].classList.remove("selected"),document.getElementById("dialogue-settings-options").children[3].classList.remove("selected"),document.getElementById("dialogue-settings-options").children[e].classList.add("selected")},d=function(){let e=null,t=0,n=0,o=1,s=null;function i(t){return e=t,this}function d(s){e.style.transform=`translate(${t}px, ${n}px) scaleX(${o})`,setTimeout((()=>{d()}),s)}function l(){switch(clearInterval(s),Math.round(2*Math.random())){case 0:break;case 1:o=Math.random()<.5?1:-1,s=setInterval((function(){return t<16?(t=16,void clearInterval(s)):t>624?(t=624,void clearInterval(s)):void(t+=o)}),15+10*Math.random());break;case 2:s=setInterval((function(){n>-16?n-=2:(clearInterval(s),s=setInterval((()=>{n<0?n+=2:clearInterval(s)}),1))}),1)}setTimeout((function(){l()}),500+1500*Math.random())}return{set:function(e){return i(e),this},setElement:i,commence:function(e){return t=Math.round(16+624*Math.random()),d(e),l(),this}}};(()=>{let e=1e3/60,t=[];t.push((new d).setElement(document.getElementById("robokid")).commence(e)),t.push((new d).setElement(document.getElementById("kid1")).commence(e)),t.push((new d).setElement(document.getElementById("kid2")).commence(e)),t.push((new d).setElement(document.getElementById("kid3")).commence(e))})(),document.getElementById("open-settings-button").onclick=()=>{t()},document.getElementById("close-settings-button").onclick=()=>{n()};for(let e=0;e<4;e++)document.getElementById("animation-settings-options").children[e].onclick=()=>{o(e)};for(let e=0;e<3;e++)document.getElementById("font-settings-options").children[e].onclick=()=>{s(e)};for(let e=0;e<4;e++)document.getElementById("dialogue-settings-options").children[e].onclick=()=>{i(e)}})();